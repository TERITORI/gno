# start a new node
gnoland start

gnokey maketx addpkg -pkgdir $WORK -pkgpath gno.land/r/demo/ee -gas-fee 1000000ugnot -gas-wanted 2000000 -broadcast -chainid=tendermint_test test1
stdout OK!

gnokey maketx call -pkgpath gno.land/r/demo/ee -func Hello -gas-fee 1000000ugnot -gas-wanted 2000000 -broadcast -chainid=tendermint_test test1
stdout OK!
stdout 'GAS WANTED: 2000000'
stdout 'GAS USED: [0-9]+'
stdout 'EVENTS:'

-- ee.gno --
package ee

import (
	"std"
)

const (
	EventAttrKeySender = "sender"
	EventAttrKeyReceiver = "receiver"
)

func Hello() {
	std.EmitEvent(
		EventAttrKeySender,
		[]string{
			"key1", "value1",
			"key2", "value2",
			"key3", "value3",
			"not-a-pair",		// ignore the key-value not in pairs
		},
	)

	std.EmitEvent(
		EventAttrKeyReceiver,
		[]string{
			"foo", "bar",
		},
	)
}
